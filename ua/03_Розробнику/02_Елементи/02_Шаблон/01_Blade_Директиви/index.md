Blade — це простий, але потужний механізм створення шаблонів, який входить до складу Evolution CMS. На відміну від деяких механізмів створення шаблонів PHP, Blade не обмежує використання простого коду PHP у ваших шаблонах. Насправді всі шаблони Blade скомпільовані у звичайний PHP-код і зберігаються в кеш-пам’яті, доки їх не буде змінено, що означає, що Blade практично не додає накладних витрат для вашої програми. Файли шаблонів Blade використовують `.blade.php` розширення файлу та зазвичай зберігаються в `/views/` каталозі.

## Відображення даних

Ви можете відобразити дані, які передаються у ваші представлення Blade, уклавши змінну у фігурні дужки. Наприклад Ви можете відобразити вміст змінної `name` так:

```blade
Привіт, {{ $name }}.
```

> **Примітка**  
> Ехо-вирази Blade `{{ }}` автоматично надсилаються через `htmlspecialchars` функцію PHP для запобігання атакам XSS.

Ви не обмежені лише відображенням вмісту змінних, переданих у подання. Ви також можете повторити результати будь-якої функції PHP. Насправді, ви можете розмістити будь-який PHP-код, який забажаєте, у оператор Blade echo:

```blade
Поточна позначка часу UNIX {{ time() }}.
```

### Відображення неекранованих даних

За замовчуванням `{{ }}` оператори Blade автоматично надсилаються через `htmlspecialchars` функцію PHP для запобігання XSS-атакам. Якщо ви не хочете, щоб ваші дані були екранованими, ви можете використовувати такий синтаксис:

```blade
Привіт, {!! $name !!}.
```

> **Увага**  
> Будьте дуже обережні, відтворюючи вміст, який надають користувачі вашої програми. Зазвичай ви повинні використовувати екранований синтаксис подвійних фігурних дужок, щоб запобігти атакам XSS під час відображення наданих користувачем даних.

### Blade та JavaScript

Оскільки багато фреймворків JavaScript також використовують «фігурні» дужки, щоб вказати, що даний вираз має відображатися у браузері, ви можете використовувати символ, `@` щоб повідомити механізму відтворення Blade, що вираз має залишитися недоторканим. Наприклад:

```blade
<h1>Evolution CMS</h1>

Привіт, @{{ $name }}.
```

У цьому прикладі @символ буде видалено Blade, однак `{{ name }}` вираз залишиться недоторканим обробником Blade, дозволяючи його відтворювати у вашій структурі JavaScript.

Символ `@` також можна використовувати для екранування директив Blade:

```blade
{{-- Blade шаблон --}}
@@if()

<!-- HTML вивід -->
@if()
```

#### Візуалізація JSON

Іноді ви можете передати масив у своє представлення з наміром відобразити його як JSON, щоб ініціалізувати змінну JavaScript. Наприклад:

```blade
<script>
    var app = <?php echo json_encode($array); ?>;
</script>
```

Однак замість ручного виклику `json_encode` ви можете використовувати `Js::from` метод. Метод `from` приймає ті самі аргументи, що й функція PHP `json_encode`, однак це забезпечить належне екранування отриманого JSON для включення в лапки HTML. Метод `from` поверне рядковий `JSON.parse` оператор JavaScript, який перетворить заданий об’єкт або масив у дійсний об’єкт JavaScript:

```blade
<script>
    var app = {{ Js::from($array) }};
</script>
```

> **Увага**  
> Ви повинні використовувати лише `Js::from` метод відтворення існуючих змінних як JSON. Шаблон Blade базується на регулярних виразах, і спроби передати складний вираз директиві можуть спричинити несподівані помилки.

#### Директива `@verbatim`

Якщо ви відображаєте змінні JavaScript у великій частині свого шаблону, ви можете загорнути HTML у директиву, `@verbati` mщоб вам не доводилося додавати до кожного оператора Blade echo символ `@`:

```blade
@verbatim
    <div class="container">
        Привіт, {{ $name }}.
    </div>
@endverbatim
```

## Blade Директиви

Окрім успадкування шаблонів і відображення даних, Blade також надає зручні ярлики для типових керуючих структур PHP, таких як умовні оператори та цикли. Ці ярлики забезпечують дуже чіткий, стислий спосіб роботи з керуючими структурами PHP, залишаючись при цьому знайомими для своїх відповідників PHP.